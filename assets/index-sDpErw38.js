import{v as a,o as F,w as P,a as i,x as g,y as A}from"./index-B5kmyHN1.js";var x=a;function K(e){const t=a(e);return t.empty?"":t.simple+t.q}function W(e){const t=a(e);if(t.empty)return"";const r=(7-t.step)%7,o=t.type==="perfectable"?-t.alt:-(t.alt+1);return a({step:r,alt:o,oct:t.oct,dir:t.dir}).name}var j=F,k=N((e,t)=>[e[0]-t[0],e[1]-t[1]]);function N(e){return(t,r)=>{const o=a(t).coord,n=a(r).coord;if(o&&n){const s=e(o,n);return P(s).name}}}var b=e=>{const t=e.reduce((r,o)=>{const n=i(o).chroma;return n!==void 0&&(r[n]=r[n]||i(o).name),r},{});return r=>t[r]};function z(e,t={}){const r=e.map(n=>i(n).pc).filter(n=>n);return i.length===0?[]:M(r,1,t).filter(n=>n.weight).sort((n,s)=>s.weight-n.weight).map(n=>n.name)}var f={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},h=e=>t=>!!(t&e),S=h(f.anyThirds),T=h(f.perfectFifth),w=h(f.anySeventh),I=h(f.nonPerfectFifths);function $(e){const t=parseInt(e.chroma,2);return S(t)&&T(t)&&w(t)}function B(e){const t=parseInt(e,2);return I(t)?e:(t|16).toString(2)}function M(e,t,r){const o=e[0],n=i(o).chroma,s=b(e),p=g(e,!1),m=[];return p.forEach((u,d)=>{const y=r.assumePerfectFifth&&B(u);A().filter(c=>r.assumePerfectFifth&&$(c)?c.chroma===y:c.chroma===u).forEach(c=>{const v=c.aliases[0],l=s(d);d!==n?m.push({weight:.5*t,name:`${l}${v}/${o}`}):m.push({weight:1*t,name:`${l}${v}`})})}),m}export{j as a,k as b,z as d,x as g,W as i,K as s};
